var mongoose = require('mongoose');
var Schema = mongoose.Schema;

var scopeSchema = new Schema({
    scopeName: { type: String, required: true, unique: true },
    feature: String,
    actions: { type: [String], unique: true },
    limit: Number
});

var resourceSchema = new Schema({
    resourceName: { type: String, required: true, unique: true },
    scopes: [scopeSchema]
});

var navigationSchema = new Schema({
    navigationName: { type: String, required: true, unique: true },
    navigationStatus: Boolean,
    resources: [resourceSchema],
    created_at: Date,
    updated_at: Date
});

var consoleSchema = new Schema({
    consoleName: { type: String, required: true, unique: true },
    consoleUserRoles: [String],
    consoleNavigation: [navigationSchema],
    created_at: Date,
    updated_at: Date
});

var Console = mongoose.model('Console', consoleSchema);
module.exports = Console;